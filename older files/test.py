import lzma, json, re, os
#SPECIAL CHARS: ‘’“”

#regex = r'((?:(?!\d\sStats?\.).){5,70}?\d\sStats?\.(?:(?!\d\sStats?\.).){5,70}?)'

#regex = r'\d\sStats?\.'
#string = "abcdef123123 1 Stat. 123 abcdef123123abcdef 2 Stat. 43 abcde"
#print([m.start() for m in re.finditer(regex, string)])

#start of sentence
regexNormalStart = r'(?<=[\.?!"\'’”])\s([^a-z0-9\.!?\\§]'
#extract title and USC
regexUSC = r'([0-5]?\da?)(?:,|" of the")?\s(?:U\.?S\.?(?:C\.?| Code)|USC|United States Code)'
#read until it has sentence including USC; stops after reading USC
readToUSC = r'(?:(?![\.?!"\'’”]\s[^a-z0-9\.!?\\§]).)*?' + regexUSC
regexEnd = r'.*?[\.?!"\'’”])(?=\s[^a-z0-9\.!?\\§]|$)'

regex1 = regexNormalStart + readToUSC + regexEnd


regex2 = r'([\'"‘“].*?[\'"’”]\s(?=\d)' + readToUSC + regexEnd

regex = regex2 + '|' + regex1
#regex = regex1 + regex2
string = '[{"type": "majority", "text": "OPINION OF THE COURT\nGIBBONS, Circuit Judge:\nThe Commonwealth of Pennsylvania, intervenor, and the County of Allegheny, intervening appellant, appeal from a February 3, 1982 order of the District Court for the Western District of Pennsylvania, 531 F.Supp. 627, concerning the production of state prisoners for testimony in a civil action pending in that court. That order provides that the state custodian will be in compliance with writs of habeas corpus ad testificandum for such prisoners if at his expense he transports the prisoners to the state custodial institution nearest the federal courthouse. It directs that the United States Marshal be responsible for transporting the prisoners to and from that custodial institution for court appearances. The United States Marshal is also an intervenor, and the appellee in this appeal. The Commonwealth contends that the entire responsibility for and expense- of production of state prisoners for testimony in a federal civil action should be imposed upon the United States Marshal. A second order, dated February 12, 1982, designates the Allegheny County Jail as the nearest state custodial institution for trials at Pittsburgh. Allegheny County contends that, whether or not the Commonwealth custodian is responsible for production of the prisoners, the burden of housing them while they are in Pittsburgh should not have been imposed on it. We affirm.\nI.\nThe orders appealed from were entered in a pending civil action which has not yet resulted in a final judgment. The Commonwealth contends, however, that the order from which it appeals is a final order within 28 U.S.C. \u00a7 1291. Since it fully resolves a dispute between the Commonwealth and the United States Marshal Service, we agree that it is a final order collateral to the main action. Cohen v. Beneficial Industrial Loan Corp., 337 U.S. 541, 69 S.Ct. 1221, 93 L.Ed. 1528 (1949). A prior panel of this court granted Allegheny County\u2019s motion for leave to intervene in the appeal. Thus both appellants are properly before us.\nII.\nThe trial court\u2019s opinion discloses that until October 1981 it was the historical practice in the Western District of Pennsylvania for the Commonwealth to transport a state prisoner whose testimony was required in a federal court to the jail nearest the federal courthouse. The Commonwealth would then notify the United States Marshal, who assumed the responsibility for transporting the prisoner to the federal courthouse, maintaining custody and returning him to state custody when his presence was no longer required. In October 1981 the United States Marshal Service, faced with severe budgetary limitations, intervened in this action and requested the court to direct its orders for the production of prisoner witnesses directly to the Commonwealth custodian. The Commonwealth responded by intervening and urging that it be relieved of all responsibility for their production. After full briefing and argument, in which the Attorney General appeared for the Commonwealth, the court entered the orders appealed from. Allegheny County was not separately represented in the district court, and the Attorney General joined with it in moving for intervention in this court. Although the Marshal Service sought to be relieved entirely from responsibility for state prisoner witnesses, it has not cross-appealed. Thus the limited question before us is whether the court erred in holding that state custodians must respond to writs of habeas corpus ad testificandum at least to the extent of bringing the required witnesses to the county jail nearest the federal courthouse and informing the Marshal Service that they are available for court appearances.\nThe form of the order disposes of the Allegheny County appeal. The County is in no way aggrieved by it. It merely states that delivery to the county jail shall be deemed to be compliance with writs of habeas corpus ad testificandum. It does not direct the county officials to accept state prisoners for that or any other purpose. If the Commonwealth finds itself powerless to compel Allegheny County to cooperate (a contingency which seems, to say the least, remote) then the Commonwealth custodians will have to respond to writs of habeas corpus ad testificandum in some other manner. It will not be able to rely upon the February 3, 1982 order. Nor does the February 12,1982 order, clarifying that of February 3 by specific reference to the Allegheny County Jail, impose any obligation on the County. It is not a party aggrieved by either order.\nThe Commonwealth, however, is aggrieved by the trial court\u2019s denial of its motion to be relieved from any obligation to respond to a writ of habeas corpus ad testificandum except by delivering the prisoner to a United States Marshal at the place of confinement. It contends that the trial court lacks authority to impose any other duty on its custodians.\nThe Commonwealth concedes, as it must, that read together, 28 U.S.C. \u00a7 2241(c)(5), the habeas corpus statute, and 28 U.S.C. \u00a7 1651(a), the All Writs Act, give federal courts authority to issue writs of habeas corpus ad testificandum to compel the attendance of prisoner witnesses. It contends, however, that this undoubted power is circumscribed by a rule, of unspecified origin, that the court cannot compel a non-party at its own expense to transport prisoners. There is no such rule.\nWitnesses required for civil proceedings in the federal courts are subject to compulsory process. Fed.R.Civ.P. 45(e). The only limitation, other than geographic, is that the witness be tendered the fees and mileage specified by statute. Fed.R.Civ.P. 45(c); 28 U.S.C. \u00a7 1821. The fees are modest, and attendance frequently imposes serious financial burdens on witnesses. They must nevertheless respond without compensation, for in our society the court\u2019s need for witness testimony is recognized as an ample justification for imposing such a burden. If, therefore, the witnesses in question were not in state custody, their testimony would be compellable by subpoena. Because they are in state custody, subpoena process, which runs only to the witness, cannot be effective. The only effective process will be one which runs to the custodian.\nThe problem is hardly a new one. In section 14 of the Judiciary Act of 1789 Congress authorized the federal courts \u201cto issue writs of scire facias, habeas corpus, and all other writs not specially provided for by statute, which may be necessary for the exercise of their respective jurisdictions, and agreeable to the principles and usages of law.\u201d The authority to issue writs of habeas corpus was limited by a proviso that it would extend only to prisoners in federal custody, but that proviso was itself qualified by an exception for prisoners \u201cnecessary to be brought into court to testify.\u201d. 1 Stat. 73, 81-82. Thus at the outset of their existence the federal courts were granted the express authority to issue writs of habeas corpus ad testificandum for the production of state prisoners. The provisions of section 14 of the 1789 Act, carried forward, are now codified at 28 U.S.C. \u00a7 1651(a) and 28 U.S.C. \u00a7 2241(c)(5). See, e.g., United States v. Hayman, 342 U.S. 205, 221, 72 S.Ct. 263, 273, 96 L.Ed. 232 (1952); Price v. Johnston, 334 U.S. 266, 68 S.Ct. 1049, 92 L.Ed. 1356 (1948); Adams v. U. S. ex rel. McCann, 317 U.S. 269, 274, 63 S.Ct. 236, 239, 87 L.Ed. 268 (1942). At no time has that authority ever been qualified by a requirement that the respondent custodian, state or federal, be compensated for compliance with the writ.\nThe Commonwealth urges that 28 U.S.C. \u00a7 569(b) is such a qualification. That statute provides that \u201cUnited States Marshals shall execute all lawful writs, process and orders issued under authority of the United States.\u201d The United States marshals have had that duty since 1789. 1 Stat. 73, 87. The United States Marshal Service urges, we think correctly, that this obligation arises with respect to a writ of habeas corpus only when a custodian refuses to obey a writ. The fact that Congress has from the beginning provided for executive branch enforcement of federal judicial process does not imply that state officials are free to disregard such process absent the use of executive branch coercion.\nThe district court, in justification of its ruling that state custodians could comply with the writ by delivering prisoners to. the nearest county jail, cited 28 U.S.C. \u00a7\u00a7 567(2) and 571. Section 567(2) provides that each United States Marshal shall be allowed \u201cthe expense of transporting prisoners, including the cost of necessary guards and the travel and subsistence expense of prisoners and guards.\u201d Section 571 designates the United States Marshal as the disbursing officer for the United States Attorneys and for federal court personnel. Plainly the latter section is irrelevant to the instant problem. As to the former, the Marshal Service contends that it refers only to federal prisoners held for trial or remanded on sentence to the custody of the Attorney General. We note that in listing the activities of the United States Marshal Service, 28 C.F.R.. O.lll(j) refers to \u201cprisoners .. . transported by the United States Marshal Service under cooperative or intergovernmental agreements.\u201d The Marshal Service\u2019s interpretation here may, perhaps, be more restrictive than that encompassed by the regulations. Nevertheless, that the Marshal may carry out such functions is not authority for him to compensate state officials for performing the same task. Nor does section 567(2) act as an authorization for the Marshal to relieve state custodians of the obligation to respond to writs of habeas corpus ad testificandum by producing the witness at the place designated in the writ.\nIn Ballard v. Spradley, 557 F.2d 476 (5th Cir. 1977), the court was presented with a situation quite similar to that now before us. The Ballard court approved an arrangement which required the state to transport its prisoners to the local county jail. The marshal took custody of the prisoner at that point and returned him there after his presence was no longer required in court. The court of appeals held that section 567 authorized payment to the marshal for his services. That holding, however, does not authorize payment to the state. We reiterate that section 567(2) cannot be read as an authorization for the marshal to relieve state custodians of the obligation to respond to writs of habeas corpus ad testificandum by producing the witness at the place designated in the writ.\nOne other statute bears mention. \u201cThe United States marshal of each district is the marshal of the district court .. . and may, in the discretion of the respective courts, be required to attend any session of court.\u201d 28 U.S.C. \u00a7 569(a). This statute quite clearly authorizes the district court to require the attendance of the marshal at any judicial proceeding, including any proceeding at which the testimony of a state prisoner may be required. It seems plain, then, that the court has authority to direct the marshal to take prisoner witnesses into custody during the time their attendance at court is required. Because the Marshal\u2019s Service has not filed a cross-appeal, we are not required to decide whether section 569(a) provides authority for a direction, in the interest of courthouse security, that prisoner witnesses be taken into custody at a point outside the courthouse.\nThe Commonwealth urges that United States v. New York Telephone Co., 434 U.S. 159, 98 S.Ct. 364, 54 L.Ed.2d 376 (1977), and Application of United States of America, Etc., 610 F.2d 1148 (3d Cir. 1979), require the grant of their motion to impose the entire cost of compliance with writs of habeas corpus ad testificandum on someone other than the state custodian. Those cases lend no support for the Commonwealth\u2019s position. Both hold that 28 U.S.C. \u00a7 1651(a) authorizes the issuance to a third party public utility of orders directing that utility to furnish the services of their telephone lines and their personnel for the interception of information required for law enforcement purposes. In the New York Telephone case the order appealed from directed that the utility be compensated at prevailing rates, and the appeal presented no question of the need for such a provision. In Application of United States of America, Etc., the order appealed from contained a similar provision. The appellant telephone utilities objected that they should not, without hearing, be subjected to such a compelled use of their plant and personnel. In the circumstances of that industry, and considering the competing law enforcement interests, we held that due process required that they be afforded a hearing on the burdensomeness of that order. 610 F.2d at 1157. The holding is a procedural due process holding- The Commonwealth does not object to the writs on procedural grounds. It contends that no matter what procedure is utilized in deciding to issue them they need not be obeyed unless someone else bears the expense of compliance.\nNevertheless, since the Commonwealth relies on Application of United States of America, Etc., it is, perhaps, appropriate to note that the problem presented in that case is entirely different from that presented here. The orders directed to the telephone companies required them to devote their plant and personnel affirmatively in the gathering of information for federal law enforcement, to the possible detriment of their service to other customers. A prior hearing was in those circumstances appropriate. But issuance of process for witness testimony has traditionally been left to the decision of the litigants or the court, with no necessity for prior notice to the witness and opportunity to be heard. Fed.R.Civ.P. 45; Fed.R.Crim.P. 17. Subpoenaed witnesses can move to quash such process on the ground of burdensomeness. If, however, the court concludes that the burden is justified by the necessities of the judicial process, the witness must bear it. We see no reason why any additional procedural safeguard should be afforded to custodians of witnesses. Like witnesses, the custodians can move to have writs of habeas corpus ad testificandum quashed in particular cases. Often, for example, it may be quite appropriate to postpone trials until the witnesses are released from custody.\nIn the posture in which this case is before us we cannot consider whether the court abused its discretion in refusing to quash particular writs, for the Commonwealth never made any showing, or even contention, that the testimony of the witnesses in question was not necessary. Its position is that no matter how vital the testimony is or how important a prompt disposition of the case is to the parties, state custodians need not produce prisoner witnesses at state expense. We reject that contention.\nIII.\nThe order appealed from, providing that state custodians will be in compliance with writs of habeas corpus ad testificandum for state prison witnesses if they transport the prisoners to the county jail nearest the federal courthouse and notify the United States Marshall, will be affirmed.\n1\n. The underlying action is a prisoner civil rights action brought pursuant to 42 U.S.C. \u00a7 1983. It charges that various state prison officials have violated the plaintiffs\u2019 first, eighth and fourteenth amendment rights, and seeks injunctive relief and money damages. Except that it is an action over which the district court has unquestioned jurisdiction, the nature of the underlying lawsuit is not a dispositive consideration for purposes of this appeal.", "author": "GIBBONS, Circuit Judge:"}]'




for item in re.findall(regex1,string):
	print(item)
#for item in re.findall(regex2,string):
#	print(item)